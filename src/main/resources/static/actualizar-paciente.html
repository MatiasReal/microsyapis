<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Clínica Odontológica - Actualizar paciente</title>
</head>
<body>
  <main>
    <h1>Actualizar paciente</h1>
    <form method="PUT" action="/pacientes">
      <div>
        <label for="id-paciente">Identificador</label>
        <input type="text" id="id-paciente" name="id-paciente">
      </div>
      <div>
        <label for="nombre-paciente">Nombre</label>
        <input type="text" id="nombre-paciente" name="nombre-paciente">
      </div>
      <div>
        <label for="apellido-paciente">Apellido</label>
        <input type="text" id="apellido-paciente" name="apellido-paciente">
      </div>
      <div>
        <label for="telefono-paciente">Telefono</label>
        <input type="number" id="telefono-paciente" name="telefono-paciente">
      </div>
      <div>
        <label for="correo-paciente">Correo</label>
        <input type="email" id="correo-paciente" name="correo-paciente">
      </div>
      <div>
        <label for="cedula-paciente">Cedula</label>
        <input type="number" id="cedula-paciente" name="cedula-paciente">
      </div>
      <button type="button" onclick="handleEliminarPaciente">Eliminar</button>
      <button type="submit">Actualizar</button>
    </form>
  </main>
  <script>
    async function handleEliminarPaciente() {
      const confirmAction = window.confirm("Estás seguro de que quiere eliminar al paciente?");
      if(confirmAction){
        const status = await fetch("/pacientes", {
          method: "DELETE",
        })
        window.alert("Paciente eliminado con exito!");
        location.replace("/");
        if (status.status !== 201){
          window.alert("El paciente no fue eliminado");
        }
      }
    }
  </script>
</body>
</html>